<!DOCTYPE html>
<html lang="en">
<head>
    <title>Create New Voter Account</title>
    <!--Materialized CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <!--Meterial ICONS-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<!--
$('#Myform').attr('onsubmit', 'test()');

function test() {

  var obj = {};

  obj.title =$('#title').prop('value');
  console.log('title: '+obj.title);

  obj.userID =$('#userID').prop('value');
  console.log('userID: '+obj.website);

  obj.passCode =$('#passCode').prop('value').split(',');
  console.log('passCode: '+obj.tags);

  doSomething(JSON.stringify(obj));

}
-->
<body>

<script type="text/javascript">
    $(document).ready(function() {
    $("action").click(function(e){
        var jsonData = {};
    
        var formData = $("#myform").serializeArray();
    // console.log(formData);
    
        $.each(formData, function() {
            if (jsonData[this.name]) {
                if (!jsonData[this.name].push) {
                    jsonData[this.name] = [jsonData[this.name]];
                }
                jsonData[this.name].push(this.value || '');
            } else {
                jsonData[this.name] = this.value || '';
            }
    
    
        });
        /*console.log(jsonData);
        $.ajax(
        {
            url : "action.php",
            type: "POST",
            data : jsonData,
    
        });
        e.preventDefault(); */
        var userdata = jsonData;
        localStorage.setItem('myStorage', JSON.stringify(userdata));
        //Parsing json
        //var obj = JSON.parse(localStorage.getItem('myStorage'));
    });
    });
</script>

    <!--<div style="padding:20px">-->
    <nav>
        <div class="nav-wrapper">
            <a class="brand-logo center">Enter New Voter Details</a>
        </div>
    </nav>
    <br>
    <div class="row">
    <form id="#myform" class="col s12"> <!--enctype="application/json">-->
        <div class="row">
            <div class="input-field col s6">
                First Name: <input type="text" id="first_name" autofocus required>
                <!--<label for="first_name">First Name</label>-->
            </div>
            <div class="input-field col s6">
                Last Name: <input type="text" id="last_name" required>
                <!--<label for="last_name">Last Name</label>-->
            </div>
        </div>
        <div class="row">
            <div class="input-field col s6">
                Father's Full Name: <input type="text" required>
            </div>
            <div class="input-field col s6">
                Mother's Full Name: <input type="text" required>
            </div>
        </div>
        <div>
            Email Address: <input type="email" placeholder="Enter Email" name="email" class="validate" required>
        </div>
        <br/>
        <div>
            Phone Number: <input type="text" size="20" value="" placeholder="Enter Phone Number" name="phone number" pattern="(?=.*\d).{10,10}" title="Must contain only number and 10 characters" required>
        </div>
        <br/>
        <div>
            Date of Birth: <input type="date" size="20" required>
            <!--<input type="text" class="datepicker" required>-->
        </div>
        <br/>
        <div>
            Parmanent Address: <input type="text" required>
        </div><br/>
        <div>
            <!-- Password field -->
            Password: <input type="password" placeholder="Enter Password" value="" id="myPassword" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>           
            <!-- An element to toggle between password visibility -->
            <input type="checkbox" onclick="passFunction()">Show Password
            <script>
                function passFunction() {
                    var x = document.getElementById("myPassword");
                    if (x.type === "password") {
                      x.type = "text";
                    } else {
                      x.type = "password";
                    }
                  }
            </script>
        </div><br/>
        <!--<div>
            <label>Photocopy</label><br/>
            <input type="image" value="Passport Photo" name="dp" required>
        </div>-->
        <br/>

        <p>
            <label>
                <input id="indeterminate-checkbox" type="checkbox" />
                <span>I hereby agree all the details above are correct</span>
            </label>
        </p>
        <!--<input type="checkbox" id="myCheckBox"> I hereby agree all the details above are correct
        <script>
        document.getElementById("myCheckBox").required = true;
        </script>-->
        <br>
        <button class="btn waves-effect waves-light" type="submit" name="action">Submit Voter Details
                <i class="material-icons right">send</i>
        </button>
    </form>
    <script type="text/javascript" src="js/materialize.min.js"></script>
</body>
</html>